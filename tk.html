<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="noindex" />
<script src="https://content.jwplatform.com/libraries/KB5zFt7A.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
<div id="player"></div>
<script type="text/javascript">
  async function fetchToken() {
    try {
      const response = await fetch('https://api.codetabs.com/v1/proxy/?quest=https://tcnt.golf/json/capturado.json');
      const data = await response.json();
      return data.mpd; // Assuming "mpd" is the property in the JSON containing the tokenized MPD URL
    } catch (error) {
      console.error('Error fetching token:', error);
      return null;
    }
  }

  async function setupPlayer() {
    const tokenizedMpd = await fetchToken();

    if (tokenizedMpd) {
      var playerInstance = jwplayer("player");
      playerInstance.setup({
        playlist: [{
          sources: [{
            file: tokenizedMpd,
            type: "dash",
            drm: {
              clearkey: {
                keyId: "c4697bf458da52f8b96b36cce761d571",
                key: "a4dee77615279c858b19e5bb69ab6755"
              }
            }
          }]
        }],
        width: "100%",
        height: "100%",
        autostart: true,
        cast: {},
        sharing: {}
      });
    } else {
      console.error('Tokenized MPD not available.');
    }
  }

  setupPlayer();
</script>
</body>
</html>
