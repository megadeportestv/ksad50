<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="robots" content="noindex" />
  <style type="text/css">
    body {
      margin: 0;
      padding: 0;
    }
  </style>
  <script src="https://content.jwplatform.com/libraries/KB5zFt7A.js"></script>
  <script> jwplayer.key='XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo';</script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
  <div id="player"></div>
  <script type="text/javascript">
    $(document).ready(function() {
      // Obtener el token y la URL del MPD desde el JSON
      $.getJSON("https://api.codetabs.com/v1/proxy/?quest=https://tcnt.golf/json/capturado.json", function(json_data) {
        var token = json_data.token;
        var mpd = json_data.mpd;
        
        // Agregar la cookie necesaria para la solicitud de audio
        var audioCookie = 'hdntl=exp=1693062976~acl=%2f*~id=d5919840-20de-4a03-aa19-be094881dbff~data=hdntl~hmac=db4260d7b9b13770a8df5ecf1bd51614ea2a56a20b2a82858aa2e71e5ddad0b7';
        var headers = {
          'Cookie': audioCookie
        };
        
        // Crear las pistas de audio con la URL que incluye el token
        var audioTracks = [
          {
            default: true,
            kind: 'alternative',
            label: 'Audio',
            file: mpd + '?token=' + token
          }
        ];

        // Configurar el reproductor JWPlayer
        var playerInstance = jwplayer("player");
        playerInstance.setup({
          playlist: [{
            sources: [{
              file: mpd + '?token=' + token,
              drm: {
                clearkey: {
                  keyId: "c4697bf458da52f8b96b36cce761d571",
                  key: "a4dee77615279c858b19e5bb69ab6755"
                }
              }
            }],
            tracks: audioTracks
          }],
          width: "100%",
          height: "100%",
          autostart: true,
          cast: {},
          sharing: {}
        });
      });
    });
  </script>
</body>
</html>
